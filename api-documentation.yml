paths:
  /researchers:
    get:
      summary: Returns information about all researchers on the database
      responses:
        200:
          description: An array of researchers
          schema:
            type: array
            items:
              $ref: '#/definitions/Researcher'
        404:
          description: An unexpected error occured
      tags:
        - Researchers
    post:
      summary: Saves a researcher into the database
      parameters:
        - name: researcher
          in: body
          description: Researcher to add to the database.
          required: true
          schema:
            $ref: '#/definitions/Researcher'
      responses:
        200:
          description: Researcher created
          schema:
            $ref: '#/definitions/Researcher'
        500:
          description: Internal server error
        404:
          description: An unexpected error occured or Request body malformed
        409:
          description: There are a researcher with that DNI
      tags:
        - Researchers
    delete:
      summary: Deletes all researcher from the database
      responses:
        200:
          description: Return the numbers of items that have been removed
        404:
          description: An unexpected error occured
      tags:
        - Researchers
        
  /researchers/{dni}:
    get:
      summary: Returns information about a specific researcher
      parameters:
        - name: dni
          in: path
          description: DNI of the researcher.
          required: true
          type: string
          format: string
      responses:
        200:
          description: A single researcher
          schema:
            $ref: '#/definitions/Researcher'
        404:
          description: There are not any researcher with that DNI
      tags:
        - Researchers
    put:
      summary: Updates a specific reasercher
      parameters:
        - name: dni
          in: path
          description: DNI of the researcher.
          required: true
          type: string
        - name: researcher
          in: body
          description: Researcher to add to the database.
          required: true
          schema:
            $ref: '#/definitions/Researcher'
        
      responses:
        200:
          description: A single researcher
          schema:
            $ref: '#/definitions/Researcher'
        500:
          description: Internal server error
        404:
          description: There are not any researcher with that DNI
      tags:
        - Researchers
    delete:
      summary: Deletes all researcher from the database
      parameters:
        - name: dni
          in: path
          description: DNI of the researcher.
          required: true
          type: string
          format: string
      responses:
        200:
          description: Return the numbers of items that have been removed
        500:
          description: Internal server error
        404:
          description: There are not any researcher with that DNI
      tags:
        - Researchers
        
definitions:
  Researcher:
    type: object
    properties:
      dni:
        type: string
        description: ID of the researcher.
        pattern: '/(\d{8})([aA-zZ]{1})/'
      name:
        type: string
        description: Name of the researcher.
      phone:
        type: integer
        format: int32
        description: Phone number of the researcher.
        minLength: 9
        maxLength: 9
      email:
        type: string
        description: Email of the researcher.
        pattern: '/[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+/'
      address:
        type: string
        description: Address of the reasercher.
      gender:
        type: string
        description: Gender of the researcher.
        maxLength: 1
        enum:
          - male
          - female

    required:
      - dni
      - name
      - phone
      - email
      - address
    uniqueItems:
      - dni